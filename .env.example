# F5 Distributed Cloud Provider Authentication
# Template file - copy to .env and fill in your credentials
#
# These credentials enable Terraform to authenticate with F5 XC Console
# for managing Customer Edge sites and related resources.
#
# IMPORTANT: This file is gitignored. Never commit credentials to version control.

# ============================================================================
# REQUIRED: F5 XC Certificate Authentication
# ============================================================================

# IMPORTANT: The Terraform provider does NOT support API tokens!
#            You MUST use certificate-based authentication (P12 or cert/key pair)

# METHOD 1 (Recommended): P12 Certificate Bundle
# ------------------------------------------------
# 1. Login to F5 XC Console: https://<tenant>.console.ves.volterra.io
# 2. Navigate to: Administration → Personal Management → Credentials
# 3. Click: Add Credentials → API Certificate (NOT "API Token"!)
#    - API Certificate: For Terraform provider ✅
#    - API Token: For API calls only, NOT supported in Terraform ❌
# 4. Download the .p12 file and save the password shown (you won't see it again!)
# 5. Base64 encode the P12 file: base64 -i certificate.p12 | tr -d '\n'
# 6. Set the values below:

export VES_P12_CONTENT="<base64-encoded-p12-certificate-bundle>"
export VES_P12_PASSWORD="<p12-password-from-console>"

# METHOD 2 (Alternative): Separate Certificate and Key Files
# -----------------------------------------------------------
# If using separate cert and key files extracted from P12:
# export VOLT_API_CERT="/path/to/api-certificate.crt"
# export VOLT_API_KEY="/path/to/api-private-key.key"

# ============================================================================
# REQUIRED: F5 XC Tenant Configuration
# ============================================================================

# Tenant API URL (replace <tenant> with your tenant name)
export VOLT_API_URL="https://<tenant>.console.ves.volterra.io/api"

# Tenant name for Terraform variables
export TF_VAR_f5_xc_tenant="<tenant>"

# ============================================================================
# Azure Authentication (if using manual CLI deployment)
# ============================================================================

# Azure subscription ID
# export ARM_SUBSCRIPTION_ID="<azure-subscription-id>"

# ============================================================================
# Usage Instructions
# ============================================================================
#
# 1. Copy this file to .env:
#    cp .env.example .env
#
# 2. Edit .env and fill in your credentials
#
# 3. Source credentials before running Terraform:
#    source .env
#
# 4. Authenticate with Azure:
#    az login
#    az account set --subscription <subscription-id>
#
# 5. Run Terraform commands:
#    cd terraform/environments/dev
#    terraform init -backend-config=backend.local.hcl
#    terraform plan
#    terraform apply
#
# Verification:
#   • Check F5 XC credentials: env | grep -E "(VES_|VOLT_)"
#   • Check Terraform variables: env | grep TF_VAR_f5_xc
#   • Terraform should authenticate without prompts
